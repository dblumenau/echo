import{v as D,w as N,x as P,y as T,z as E,A as v,_ as M,t as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-CW_8Ma9s.js";import{d as S,r as b,c as p,o,a,b as s,e as i,u as e,m as V,f as t,P as y,g as m,F as A,i as B,t as d,h as F,W as z}from"./app-CUGVbddP.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DhrK_nzI.js";import{_ as W,a as j,b as q,c as L,d as O}from"./CardTitle.vue_vue_type_script_setup_true_lang-DqrATOtc.js";import{_ as U,a as G,b as g,c,d as H,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-CNeUDYk2.js";import{_ as I}from"./index-DNNjIN0O.js";import{P as J,E as K,S as Q,T as R,_ as X,a as Y,b as Z,c as h,d as ee,e as se,f as ae,g as le}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-DfVldlwA.js";import{u as te}from"./useFlashMessages-CDU6VOLC.js";import"./useForwardExpose-DQ7qjBeL.js";import"./RovingFocusGroup-BooSPHZS.js";const ne={class:"p-6"},oe={class:"flex items-center justify-between"},re={class:"rounded-md border"},ue={key:0,class:"text-sm text-muted-foreground"},ie={key:1,class:"text-sm text-muted-foreground italic"},de={key:0,class:"font-semibold"},ke=S({__name:"ManageCategories",props:{categories:{}},setup(fe){te();const _=b(!1),r=b(null),C=u=>{r.value=u,_.value=!0},k=()=>{r.value&&z.delete(route("vocabulary.categories.destroy",r.value.id),{preserveScroll:!0,onSuccess:()=>{$.success("Category deleted successfully!"),_.value=!1,r.value=null},onError:()=>{$.error("Failed to delete category.")}})},x=[{label:"Vocabulary",href:route("vocabulary.word-pairs.index")},{label:"Manage Categories"}];return(u,l)=>(o(),p(M,{breadcrumbs:x},{default:a(()=>[s(e(V),{title:"Manage Categories"}),i("div",ne,[s(e(W),null,{default:a(()=>[s(e(j),null,{default:a(()=>[i("div",oe,[i("div",null,[s(e(q),null,{default:a(()=>l[1]||(l[1]=[t("Categories")])),_:1}),s(e(L),null,{default:a(()=>l[2]||(l[2]=[t(" Manage vocabulary categories used to organize word pairs. ")])),_:1})]),s(e(y),{href:u.route("vocabulary.categories.create")},{default:a(()=>[s(e(w),null,{default:a(()=>[s(e(J),{class:"mr-2 h-4 w-4"}),l[3]||(l[3]=t(" Add Category "))]),_:1})]),_:1},8,["href"])])]),_:1}),s(e(O),null,{default:a(()=>[i("div",re,[s(e(U),null,{default:a(()=>[s(e(G),null,{default:a(()=>[s(e(g),null,{default:a(()=>[s(e(c),null,{default:a(()=>l[4]||(l[4]=[t("Name")])),_:1}),s(e(c),null,{default:a(()=>l[5]||(l[5]=[t("Description")])),_:1}),s(e(c),null,{default:a(()=>l[6]||(l[6]=[t("Word Pairs")])),_:1}),s(e(c))]),_:1})]),_:1}),s(e(H),null,{default:a(()=>[u.categories.length?(o(!0),m(A,{key:0},B(u.categories,n=>(o(),p(e(g),{key:n.id},{default:a(()=>[s(e(f),{class:"font-medium"},{default:a(()=>[t(d(n.name),1)]),_:2},1024),s(e(f),null,{default:a(()=>[n.description?(o(),m("span",ue,d(n.description),1)):(o(),m("span",ie," No description "))]),_:2},1024),s(e(f),null,{default:a(()=>[s(e(I),{variant:"secondary"},{default:a(()=>[t(d(n.word_pairs_count)+" word"+d(n.word_pairs_count!==1?"s":""),1)]),_:2},1024)]),_:2},1024),s(e(f),null,{default:a(()=>[s(e(D),null,{default:a(()=>[s(e(N),{"as-child":""},{default:a(()=>[s(e(w),{variant:"ghost",size:"sm",class:"h-8 w-8 p-0"},{default:a(()=>[l[7]||(l[7]=i("span",{class:"sr-only"},"Open menu",-1)),s(e(K),{class:"h-4 w-4"})]),_:1})]),_:1}),s(e(P),{align:"end"},{default:a(()=>[s(e(T),null,{default:a(()=>l[8]||(l[8]=[t("Actions")])),_:1}),s(e(E)),s(e(y),{href:u.route("vocabulary.categories.edit",n.id)},{default:a(()=>[s(e(v),null,{default:a(()=>[s(e(Q),{class:"mr-2 h-4 w-4"}),l[9]||(l[9]=t(" Edit "))]),_:1})]),_:2},1032,["href"]),s(e(v),{class:"text-destructive",onClick:_e=>C(n),disabled:n.word_pairs_count>0},{default:a(()=>[s(e(R),{class:"mr-2 h-4 w-4"}),l[10]||(l[10]=t(" Delete "))]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):(o(),p(e(g),{key:1},{default:a(()=>[s(e(f),{colspan:"4",class:"h-24 text-center"},{default:a(()=>l[11]||(l[11]=[t(" No categories found. ")])),_:1})]),_:1}))]),_:1})]),_:1})])]),_:1})]),_:1})]),s(e(X),{open:_.value,"onUpdate:open":l[0]||(l[0]=n=>_.value=n)},{default:a(()=>[s(e(Y),null,{default:a(()=>[s(e(Z),null,{default:a(()=>[s(e(h),null,{default:a(()=>l[12]||(l[12]=[t("Are you absolutely sure?")])),_:1}),s(e(ee),null,{default:a(()=>[l[13]||(l[13]=t(" This action cannot be undone. This will permanently delete the category ")),r.value?(o(),m("span",de,' "'+d(r.value.name)+'" ',1)):F("",!0),l[14]||(l[14]=t(" from the vocabulary system. "))]),_:1})]),_:1}),s(e(se),null,{default:a(()=>[s(e(ae),null,{default:a(()=>l[15]||(l[15]=[t("Cancel")])),_:1}),s(e(le),{onClick:k,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},{default:a(()=>l[16]||(l[16]=[t(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{ke as default};
